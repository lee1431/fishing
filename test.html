<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>트레이딩 수익 이벤트</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- GSAP 애니메이션 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <!-- CryptoJS (바이낸스 API 서명용) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

    <style>
        /* 광고 배너 스타일 */
        .ad-banner {
            width: 100%;
            height: 150px;
            background: url('./stance.png') center/cover no-repeat;
        }

        /* 물음표 스타일 */
        .question-mark {
            font-size: 150px;
            font-weight: bold;
            display: block;
            text-shadow: 0px 0px 10px rgba(255, 255, 255, 0.8);
        }

        .center-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 400px;
        }

        /* 네온사인 효과 */
        .neon-text {
            font-size: 48px;
            font-weight: bold;
            color: #fff;
            text-shadow: 0 0 5px #00fff2, 0 0 10px #00fff2, 0 0 15px #00fff2;
            animation: neonBlink 1.5s infinite alternate;
        }

        @keyframes neonBlink {
            0% { text-shadow: 0 0 5px #00fff2, 0 0 10px #00fff2, 0 0 15px #00fff2; }
            100% { text-shadow: 0 0 10px #00ff99, 0 0 20px #00ff99, 0 0 30px #00ff99; }
        }
    </style>
</head>
<body class="bg-black text-white flex flex-col items-center justify-center min-h-screen">

    <!-- 광고 배너 -->
    <div class="ad-banner"></div>

    <!-- 중앙 물음표 -->
    <div class="center-container">
        <div id="question-mark" class="question-mark text-8xl">?</div>
    </div>

    <!-- 트레이딩 수익 (네온사인 스타일) -->
    <div id="profit-display" class="neon-text text-center text-4xl mt-10">
        수익 로딩 중...
    </div>

    <script>
        // GSAP 애니메이션: 물음표 색 변경 + 크기 변화
        gsap.to("#question-mark", {
            duration: 1.5,
            fontSize: "300px",  // 크기 변경
            color: "#ffeb3b",   // 노란색으로 변경
            repeat: -1,
            yoyo: true
        });

        // 바이낸스 API 키 (보안을 위해 백엔드에서 호출하는 것이 좋음!)
        const API_KEY = "hZub3B64Wu71Emf8SFPp7chpmuhK6CtGfr0xKVQXowXwyFl6ywl0040PLOU0kmO6";
        const API_SECRET = "AO9CMaUvuBa7vu0Qpn9C8WEyeowRtH9rvv04JJpzG6sabeffmHwl32OjZFfkYRV2";

        async function getAccountProfit() {
            const endpoint = "https://api.binance.com/sapi/v1/futures/income";
            const timestamp = Date.now();
            
            const params = new URLSearchParams({
                timestamp: timestamp,
                incomeType: "REALIZED_PNL", // 실현 손익
                limit: 5 // 최근 5개 데이터 가져오기
            });

            // API 서명 생성 (HMAC SHA256)
            const signature = CryptoJS.HmacSHA256(params.toString(), API_SECRET).toString(CryptoJS.enc.Hex);
            params.append("signature", signature);

            const url = `${endpoint}?${params.toString()}`;

            try {
                const response = await fetch(url, {
                    method: "GET",
                    headers: {
                        "X-MBX-APIKEY": API_KEY
                    }
                });

                const data = await response.json();
                console.log("수익 데이터:", data);

                if (data.length > 0) {
                    const profit = data[0].income; // 최신 수익 데이터
                    document.getElementById("profit-display").innerHTML = `오늘의 수익: <span class="neon-text">+${profit} USDT</span>`;
                } else {
                    document.getElementById("profit-display").innerHTML = "수익 데이터 없음";
                }
            } catch (error) {
                console.error("바이낸스 API 호출 오류:", error);
                document.getElementById("profit-display").innerHTML = "수익 데이터를 가져올 수 없습니다.";
            }
        }

        // 실행
        getAccountProfit();
    </script>

</body>
</html>
